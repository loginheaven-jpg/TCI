# TCI ê·¸ë£¹ ë¶„ì„ ì„œë¹„ìŠ¤ - Claude Code í€µ ìŠ¤íƒ€íŠ¸ (Phase 2)

> **Version 2.0** | 2026-01-06  
> Supabase í´ë¼ìš°ë“œ DB ì—°ë™ + ê°œì¸ì§„ë‹¨ì§€ ê³ ë„í™” ë²„ì „

---

## ğŸ“‹ ì „ë‹¬ íŒŒì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸

Claude Codeì—ì„œ ì‘ì—… ì‹œì‘ ì „, ë‹¤ìŒ íŒŒì¼ë“¤ì„ í™•ì¸:

### í•µì‹¬ ë¬¸ì„œ (â˜… í•„ë…)
- [ ] `TCI_PROJECT_SPEC_V2.md` - Phase 2 ì¢…í•© ê¸°íšì„œ (ë°˜ë“œì‹œ ë¨¼ì € ì½ì„ ê²ƒ)
- [ ] `supabase_schema.sql` - DB ìŠ¤í‚¤ë§ˆ (Supabaseì—ì„œ ë¨¼ì € ì‹¤í–‰)
- [ ] `tci_interpretations.js` - 54ê°œ ìœ í˜• í•´ì„ + ìƒí˜¸ì‘ìš© í•´ì„
- [ ] `tci_app_phase1_final.jsx` - Phase 1 ì½”ë“œ (ë¦¬íŒ©í† ë§ ë² ì´ìŠ¤)

### ë°ì´í„° ì •ì˜
- [ ] `tci_data_definitions.js` - ê·œì¤€, ë¼ë²¨, í•˜ìœ„ì²™ë„ ë°ì´í„°
- [ ] `tci_terminology_final_confirmed.md` - ìš©ì–´ ëŒ€ì¡°í‘œ (ì½”ì¹­ìš© ìˆœí™”ì–´)

### ì°¸ê³  ìë£Œ
- [ ] `TCI-ì„±ì¸ìš©_20260106_ì—¬.csv` - ìƒ˜í”Œ CSV (10ëª…)
- [ ] `TCI_ê¹€ë ¤ì›ë‹˜2-ë³µì‚¬.pdf` - ë§ˆìŒì‚¬ë‘ ë¦¬í¬íŠ¸ ìƒ˜í”Œ

---

## ğŸš€ 10ë¶„ í€µ ìŠ¤íƒ€íŠ¸

### Step 1: Supabase í”„ë¡œì íŠ¸ ìƒì„±

1. https://supabase.com ì ‘ì† â†’ New Project ìƒì„±
2. Project Settings > APIì—ì„œ ë‹¤ìŒ ê°’ ë³µì‚¬:
   - `Project URL` (ì˜ˆ: https://xxxx.supabase.co)
   - `anon public` í‚¤
3. SQL Editorì—ì„œ `supabase_schema.sql` ì „ì²´ ì‹¤í–‰

### Step 2: í”„ë¡œì íŠ¸ ìƒì„±

```bash
npm create vite@latest tci-group-analysis -- --template react
cd tci-group-analysis
```

### Step 3: ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# í•µì‹¬ ì˜ì¡´ì„±
npm install @supabase/supabase-js recharts papaparse

# PDF ìƒì„±
npm install html2pdf.js

# Tailwind CSS
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

### Step 4: í™˜ê²½ë³€ìˆ˜ ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ ìƒì„±:

```env
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
```

> âš ï¸ `.env`ëŠ” `.gitignore`ì— ì¶”ê°€í•  ê²ƒ

### Step 5: Tailwind ì„¤ì •

**tailwind.config.js**
```javascript
export default {
  content: ["./index.html", "./src/**/*.{js,jsx}"],
  theme: {
    extend: {
      colors: {
        // TCI ì»¤ìŠ¤í…€ ì»¬ëŸ¬
        temperament: {
          DEFAULT: '#3B82F6',
          light: '#DBEAFE',
          dark: '#1E40AF'
        },
        character: {
          DEFAULT: '#10B981',
          light: '#D1FAE5',
          dark: '#065F46'
        }
      }
    }
  },
  plugins: [],
}
```

**src/index.css**
```css
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-thumb {
  background: #CBD5E1;
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: #94A3B8;
}
```

### Step 6: ì‹¤í–‰

```bash
npm run dev
```

---

## ğŸ“ Phase 2 íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ App.jsx                      # ë©”ì¸ ë¼ìš°í„°
â”œâ”€â”€ main.jsx                     # ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ supabase.js              # Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAuth.js               # ì¸ì¦ (ë¡œê·¸ì¸/íšŒì›ê°€ì…/ë¡œê·¸ì•„ì›ƒ)
â”‚   â”œâ”€â”€ useGroups.js             # ê·¸ë£¹ CRUD
â”‚   â””â”€â”€ useInterpretations.js    # í•´ì„ ë°ì´í„° ì¡°íšŒ
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ LoginForm.jsx
â”‚   â”‚   â”œâ”€â”€ SignUpForm.jsx
â”‚   â”‚   â””â”€â”€ AuthGuard.jsx        # ì¸ì¦ í•„ìˆ˜ ë˜í¼
â”‚   â”‚
â”‚   â”œâ”€â”€ groups/
â”‚   â”‚   â”œâ”€â”€ GroupList.jsx        # ê·¸ë£¹ ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ GroupCard.jsx        # ê·¸ë£¹ ì¹´ë“œ
â”‚   â”‚   â”œâ”€â”€ GroupCreate.jsx      # ê·¸ë£¹ ìƒì„± ëª¨ë‹¬
â”‚   â”‚   â””â”€â”€ CSVUploader.jsx      # CSV ì—…ë¡œë“œ
â”‚   â”‚
â”‚   â”œâ”€â”€ analysis/
â”‚   â”‚   â”œâ”€â”€ GroupAnalysis.jsx    # ê·¸ë£¹ ë¶„ì„ ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ TemperamentTab.jsx   # ê¸°ì§ˆ íƒ­
â”‚   â”‚   â”œâ”€â”€ CharacterTab.jsx     # ì„±ê²© íƒ­
â”‚   â”‚   â”œâ”€â”€ RadarChart.jsx       # ê±°ë¯¸ì¤„ ì°¨íŠ¸
â”‚   â”‚   â”œâ”€â”€ BarChart.jsx         # ë§‰ëŒ€ ì°¨íŠ¸
â”‚   â”‚   â””â”€â”€ MemberSelector.jsx   # êµ¬ì„±ì› ì„ íƒ
â”‚   â”‚
â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â”œâ”€â”€ IndividualReport.jsx # ê°œì¸ ë¦¬í¬íŠ¸ ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ ProfileSummary.jsx   # í”„ë¡œíŒŒì¼ ìš”ì•½
â”‚   â”‚   â”œâ”€â”€ MaturityWarning.jsx  # âš ï¸ ì„±ê²© ì„±ìˆ™ë„ ê²½ê³ 
â”‚   â”‚   â”œâ”€â”€ TemperamentAnalysis.jsx  # ê¸°ì§ˆ ìœ í˜• ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ CharacterAnalysis.jsx    # ì„±ê²© ìœ í˜• ë¶„ì„
â”‚   â”‚   â”œâ”€â”€ InteractionAnalysis.jsx  # ê¸°ì§ˆ ìƒí˜¸ì‘ìš©
â”‚   â”‚   â”œâ”€â”€ SubscaleDetail.jsx   # í•˜ìœ„ì²™ë„ ìƒì„¸
â”‚   â”‚   â””â”€â”€ CoachingGuide.jsx    # ì½”ì¹­ ê°€ì´ë“œ
â”‚   â”‚
â”‚   â””â”€â”€ ui/
â”‚       â”œâ”€â”€ Button.jsx
â”‚       â”œâ”€â”€ Card.jsx
â”‚       â”œâ”€â”€ Modal.jsx
â”‚       â”œâ”€â”€ Tabs.jsx
â”‚       â””â”€â”€ Loading.jsx
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ tciData.js               # tci_data_definitions.js ë‚´ìš©
â”‚   â””â”€â”€ interpretations.js       # tci_interpretations.js ë‚´ìš©
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ typeCalculator.js        # ìœ í˜• ì½”ë“œ ê³„ì‚°
â”‚   â”œâ”€â”€ csvParser.js             # CSV íŒŒì‹± ìœ í‹¸
â”‚   â”œâ”€â”€ pdfGenerator.js          # PDF ìƒì„±
â”‚   â””â”€â”€ migration.js             # LocalStorage â†’ Supabase ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚
â””â”€â”€ styles/
    â””â”€â”€ designTokens.js          # ë””ìì¸ ìƒìˆ˜ (ìƒ‰ìƒ, ê·¸ë¦¼ì ë“±)
```

---

## ğŸ”§ í•µì‹¬ ì½”ë“œ ìŠ¤ë‹ˆí«

### Supabase í´ë¼ì´ì–¸íŠ¸ (lib/supabase.js)

```javascript
import { createClient } from '@supabase/supabase-js';

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

if (!supabaseUrl || !supabaseAnonKey) {
  throw new Error('Supabase í™˜ê²½ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
}

export const supabase = createClient(supabaseUrl, supabaseAnonKey);
```

### ì¸ì¦ í›… (hooks/useAuth.js)

```javascript
import { useState, useEffect } from 'react';
import { supabase } from '../lib/supabase';

export function useAuth() {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // í˜„ì¬ ì„¸ì…˜ í™•ì¸
    supabase.auth.getSession().then(({ data: { session } }) => {
      setUser(session?.user ?? null);
      setLoading(false);
    });

    // ì¸ì¦ ìƒíƒœ ë³€í™” êµ¬ë…
    const { data: { subscription } } = supabase.auth.onAuthStateChange(
      (_event, session) => {
        setUser(session?.user ?? null);
      }
    );

    return () => subscription.unsubscribe();
  }, []);

  const signIn = async (email, password) => {
    const { data, error } = await supabase.auth.signInWithPassword({
      email,
      password,
    });
    if (error) throw error;
    return data;
  };

  const signUp = async (email, password, name) => {
    const { data, error } = await supabase.auth.signUp({
      email,
      password,
      options: {
        data: { name }
      }
    });
    if (error) throw error;
    return data;
  };

  const signOut = async () => {
    const { error } = await supabase.auth.signOut();
    if (error) throw error;
  };

  return { user, loading, signIn, signUp, signOut };
}
```

### ìœ í˜• ì½”ë“œ ê³„ì‚° (utils/typeCalculator.js)

```javascript
/**
 * Tì ìˆ˜ë¥¼ L/M/H ë ˆë²¨ë¡œ ë³€í™˜
 */
export const getTScoreLevel = (tScore) => {
  if (tScore < 45) return 'L';
  if (tScore <= 55) return 'M';
  return 'H';
};

/**
 * ê¸°ì§ˆ ìœ í˜• ì½”ë“œ ê³„ì‚° (NS Ã— HA Ã— RD)
 */
export const calculateTemperamentType = (member) => {
  const ns = getTScoreLevel(member.ns_t || member.NST);
  const ha = getTScoreLevel(member.ha_t || member.HAT);
  const rd = getTScoreLevel(member.rd_t || member.RDT);
  return `${ns}${ha}${rd}`;
};

/**
 * ì„±ê²© ìœ í˜• ì½”ë“œ ê³„ì‚° (SD Ã— CO Ã— ST)
 */
export const calculateCharacterType = (member) => {
  const sd = getTScoreLevel(member.sd_t || member.SDT);
  const co = getTScoreLevel(member.co_t || member.COT);
  const st = getTScoreLevel(member.st_t || member.STT);
  return `${sd}${co}${st}`;
};

/**
 * ì„±ê²©ì¥ì•  ê²½í–¥ì„± ì²´í¬
 */
export const checkMaturityWarning = (sd_p, co_p) => {
  if ((sd_p < 30 && co_p < 30) || (sd_p + co_p) < 30) {
    return {
      warning: true,
      severity: 'high',
      message: 'SDì™€ CO ë°±ë¶„ìœ„ê°€ ëª¨ë‘ 30 ë¯¸ë§Œì…ë‹ˆë‹¤. ì „ë¬¸ ìƒë‹´ì´ ê¶Œì¥ë©ë‹ˆë‹¤.'
    };
  }
  if (sd_p < 30 || co_p < 30) {
    return {
      warning: true,
      severity: 'moderate',
      message: `${sd_p < 30 ? 'SD' : 'CO'} ë°±ë¶„ìœ„ê°€ 30 ë¯¸ë§Œì…ë‹ˆë‹¤.`
    };
  }
  return { warning: false };
};
```

---

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ (â˜… í•„ìˆ˜ ì¤€ìˆ˜)

### ìƒ‰ìƒ íŒ”ë ˆíŠ¸

```javascript
// styles/designTokens.js

// ê¸°ì§ˆ ê´€ë ¨ (ë¸”ë£¨ ê³„ì—´)
export const TEMPERAMENT_COLORS = {
  primary: '#3B82F6',
  light: '#DBEAFE',
  dark: '#1E40AF',
  gradient: 'from-blue-500 to-blue-600'
};

// ì„±ê²© ê´€ë ¨ (ê·¸ë¦° ê³„ì—´)
export const CHARACTER_COLORS = {
  primary: '#10B981',
  light: '#D1FAE5',
  dark: '#065F46',
  gradient: 'from-emerald-500 to-emerald-600'
};

// êµ¬ì„±ì› ì‹ë³„ (10ìƒ‰)
export const MEMBER_COLORS = [
  '#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6',
  '#EC4899', '#06B6D4', '#84CC16', '#F97316', '#6366F1'
];

// ê²½ê³  ë ˆë²¨
export const WARNING_COLORS = {
  high: { bg: '#FEE2E2', border: '#EF4444', text: '#991B1B' },
  moderate: { bg: '#FEF3C7', border: '#F59E0B', text: '#92400E' },
  low: { bg: '#DBEAFE', border: '#3B82F6', text: '#1E40AF' }
};
```

### ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼

```javascript
// ë²„íŠ¼
export const BUTTON_STYLES = {
  primary: 'bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-medium shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30 transition-all',
  secondary: 'bg-white text-gray-700 px-6 py-3 rounded-xl font-medium border border-gray-200 hover:bg-gray-50 hover:border-gray-300 transition-all',
  danger: 'bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-xl font-medium shadow-lg shadow-red-500/25 hover:shadow-xl transition-all'
};

// ì¹´ë“œ
export const CARD_STYLES = {
  base: 'bg-white rounded-2xl shadow-sm border border-gray-100',
  hover: 'hover:shadow-lg hover:border-blue-200 transition-all duration-200',
  selected: 'ring-2 ring-blue-500 border-blue-300'
};

// íƒ­
export const TAB_STYLES = {
  container: 'flex gap-2 p-1 bg-gray-100 rounded-xl',
  active: 'px-4 py-2 rounded-lg font-medium transition-all',
  temperament: 'bg-blue-500 text-white shadow-md',
  character: 'bg-emerald-500 text-white shadow-md',
  inactive: 'text-gray-600 hover:bg-white hover:shadow-sm'
};
```

### ì ˆëŒ€ ê¸ˆì§€ ì‚¬í•­

| âŒ í•˜ì§€ ë§ ê²ƒ | âœ… ëŒ€ì‹  í•  ê²ƒ |
|--------------|--------------|
| ê·¸ë¼ë°ì´ì…˜ â†’ ë‹¨ìƒ‰ ë³€ê²½ | ê·¸ë¼ë°ì´ì…˜ ìœ ì§€ |
| shadow-blue-500/25 ì œê±° | ì»¬ëŸ¬ ê·¸ë¦¼ì ìœ ì§€ |
| rounded-2xl â†’ rounded-md | í° ë¼ìš´ë“œ ìœ ì§€ |
| ìƒ‰ìƒ ì„ì˜ ë³€ê²½ | íŒ”ë ˆíŠ¸ ì¤€ìˆ˜ |
| í˜¸ë²„ íš¨ê³¼ ì œê±° | transition-all ìœ ì§€ |

---

## ğŸ“Š ê°œì¸ ë¦¬í¬íŠ¸ êµ¬ì¡° (Phase 2 í•µì‹¬)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. í”„ë¡œíŒŒì¼ ìš”ì•½                        â”‚
â”‚     - ê±°ë¯¸ì¤„ ì°¨íŠ¸ (7ê°œ ì²™ë„)             â”‚
â”‚     - ê¸°ë³¸ ì •ë³´ (ì´ë¦„, ì„±ë³„, ì—°ë ¹)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. âš ï¸ ì„±ê²© ì„±ìˆ™ë„ ê²½ê³  (ì¡°ê±´ë¶€ í‘œì‹œ)     â”‚
â”‚     - SD+CO < 30 ì‹œ ë¹¨ê°„ ê²½ê³  ë°•ìŠ¤       â”‚
â”‚     - ì „ë¬¸ ìƒë‹´ ê¶Œê³  ë©”ì‹œì§€              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. ê¸°ì§ˆ ìœ í˜• ë¶„ì„                       â”‚
â”‚     - 27ê°œ ìœ í˜• ì¤‘ ë§¤ì¹­ (ì˜ˆ: HML)        â”‚
â”‚     - ìœ í˜•ëª…, ì„¤ëª…, ê°•ì , ì•½ì            â”‚
â”‚     - ì„±ê²©ì¥ì•  ê²½í–¥ì„± (í•´ë‹¹ ì‹œ)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. ì„±ê²© ìœ í˜• ë¶„ì„                       â”‚
â”‚     - 27ê°œ ìœ í˜• ì¤‘ ë§¤ì¹­ (ì˜ˆ: HHL)        â”‚
â”‚     - ìœ í˜•ëª…, ì„¤ëª…, ê°•ì , ì•½ì            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ê¸°ì§ˆ ìƒí˜¸ì‘ìš© í•´ì„                   â”‚
â”‚     - NSÃ—HA: ì ‘ê·¼-íšŒí”¼ íŒ¨í„´              â”‚
â”‚     - NSÃ—RD: ì‚¬íšŒì  í–‰ë™ ì–‘ì‹            â”‚
â”‚     - HAÃ—RD: ëŒ€ì¸ê´€ê³„ íŒ¨í„´               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. í•˜ìœ„ì²™ë„ ìƒì„¸ ë¶„ì„                   â”‚
â”‚     - 29ê°œ í•˜ìœ„ì²™ë„ ë§‰ëŒ€ ê·¸ë˜í”„          â”‚
â”‚     - ê·œì¤€ ëŒ€ë¹„ ìœ„ì¹˜ ì‹œê°í™”              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. ì¢…í•© ì½”ì¹­ ê°€ì´ë“œ                     â”‚
â”‚     - ê°•ì  í™œìš© ë°©ì•ˆ                     â”‚
â”‚     - ê°œë°œ ì˜ì—­ ì œì•ˆ                     â”‚
â”‚     - êµ¬ì²´ì  í–‰ë™ íŒ                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ë§ˆì´ê·¸ë ˆì´ì…˜ (LocalStorage â†’ Supabase)

ê¸°ì¡´ Phase 1 ì‚¬ìš©ìë¥¼ ìœ„í•œ ë°ì´í„° ì´ì „:

```javascript
// utils/migration.js
import { supabase } from '../lib/supabase';
import { calculateTemperamentType, calculateCharacterType } from './typeCalculator';

export async function migrateFromLocalStorage(userId) {
  const stored = localStorage.getItem('tci_groups');
  if (!stored) return { migrated: 0 };

  const groups = JSON.parse(stored);
  let migratedCount = 0;

  for (const group of groups) {
    // ê·¸ë£¹ ìƒì„±
    const { data: newGroup, error: groupError } = await supabase
      .from('groups')
      .insert({ user_id: userId, name: group.name })
      .select()
      .single();

    if (groupError) continue;

    // ë©¤ë²„ ì‚½ì…
    const members = group.members.map(m => ({
      group_id: newGroup.id,
      name: m.name || m['ì´ë¦„'],
      gender: m.gender || m['ì„±ë³„'],
      age: m.age || m['ì—°ë ¹'],
      // Tì ìˆ˜
      ns_t: m.NST,
      ha_t: m.HAT,
      rd_t: m.RDT,
      ps_t: m.PST,
      sd_t: m.SDT,
      co_t: m.COT,
      st_t: m.STT,
      // ë°±ë¶„ìœ„
      ns_p: m.NSP,
      ha_p: m.HAP,
      rd_p: m.RDP,
      ps_p: m.PSP,
      sd_p: m.SDP,
      co_p: m.COP,
      st_p: m.STP,
      // ... ë‚˜ë¨¸ì§€ í•„ë“œ
    }));

    await supabase.from('members').insert(members);
    migratedCount++;
  }

  // ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ í›„ LocalStorage í´ë¦¬ì–´ (ì„ íƒ)
  // localStorage.removeItem('tci_groups');

  return { migrated: migratedCount };
}
```

---

## âœ… ê°œë°œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 2-A: Supabase ì—°ë™ (3~5ì¼)
- [ ] Supabase í”„ë¡œì íŠ¸ ì…‹ì—…
- [ ] `supabase_schema.sql` ì‹¤í–‰
- [ ] `lib/supabase.js` ìƒì„±
- [ ] `useAuth` í›… êµ¬í˜„
- [ ] ë¡œê·¸ì¸/íšŒì›ê°€ì… UI
- [ ] `useGroups` í›… êµ¬í˜„
- [ ] ê·¸ë£¹ CRUD UI
- [ ] CSV ì—…ë¡œë“œ â†’ Supabase ì €ì¥
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ëŠ¥ (ì„ íƒ)

### Phase 2-B: ê°œì¸ ë¦¬í¬íŠ¸ ê³ ë„í™” (5~7ì¼)
- [ ] `tci_interpretations.js` ì—°ë™
- [ ] ìœ í˜• ì½”ë“œ ê³„ì‚° ë¡œì§
- [ ] ì„±ê²© ì„±ìˆ™ë„ ê²½ê³  ì»´í¬ë„ŒíŠ¸
- [ ] ê¸°ì§ˆ ìœ í˜• ë¶„ì„ ì„¹ì…˜
- [ ] ì„±ê²© ìœ í˜• ë¶„ì„ ì„¹ì…˜
- [ ] ê¸°ì§ˆ ìƒí˜¸ì‘ìš© í•´ì„ ì„¹ì…˜
- [ ] í•˜ìœ„ì²™ë„ ìƒì„¸ ë¶„ì„
- [ ] ì¢…í•© ì½”ì¹­ ê°€ì´ë“œ

### Phase 2-C: ë§ˆë¬´ë¦¬ (2~3ì¼)
- [ ] PDF ë‹¤ìš´ë¡œë“œ ìµœì í™”
- [ ] ë°˜ì‘í˜• UI ì ê²€
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
- [ ] ë¡œë”© ìƒíƒœ ê°œì„ 
- [ ] ë°°í¬ (Vercel/Netlify)

---

## ğŸ“ ì°¸ê³ 

- **ê¸°íšì„œ**: `TCI_PROJECT_SPEC_V2.md` ì°¸ì¡°
- **í•´ì„ ë°ì´í„°**: `tci_interpretations.js` - ëª¨ë“  ìœ í˜•ë³„ í•´ì„ í¬í•¨
- **DB ìŠ¤í‚¤ë§ˆ**: `supabase_schema.sql` - íŠ¸ë¦¬ê±°ë¡œ ìœ í˜•ì½”ë“œ ìë™ ê³„ì‚°
- **ë””ìì¸ ì°¸ê³ **: `TCI_ê¹€ë ¤ì›ë‹˜2-ë³µì‚¬.pdf` - ë§ˆìŒì‚¬ë‘ ê³µì‹ ë¦¬í¬íŠ¸

---

## âš¡ í•µì‹¬ ìš”ì•½

1. **Supabase ë¨¼ì €** - SQL ìŠ¤í‚¤ë§ˆ ì‹¤í–‰ í›„ ê°œë°œ ì‹œì‘
2. **í•´ì„ ë°ì´í„° í™œìš©** - tci_interpretations.jsì˜ í•¨ìˆ˜ë“¤ ì ê·¹ ì‚¬ìš©
3. **ë””ìì¸ ì‹œìŠ¤í…œ ì¤€ìˆ˜** - ê·¸ë¼ë°ì´ì…˜, ì»¬ëŸ¬ ê·¸ë¦¼ì, í° ë¼ìš´ë“œ ìœ ì§€
4. **ìœ í˜• ì½”ë“œëŠ” DBê°€ ê³„ì‚°** - íŠ¸ë¦¬ê±°ê°€ ìë™ìœ¼ë¡œ temperament_type, character_type ìƒì„±
5. **ì„±ìˆ™ë„ ê²½ê³  í•„ìˆ˜** - SD+CO ì²´í¬ ë¡œì§ ë°˜ë“œì‹œ êµ¬í˜„
